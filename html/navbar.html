<!-- navbar html is localized to this file for convenience -->
<script>
	document.querySelector('.sun').addEventListener('click', toggleLightmode);
	document.querySelector('.moon').addEventListener('click', toggleNightmode);

	if(window.sessionStorage.getItem('lightmode') == 'true') {
		toggleLightmode();
		//doesn't need to wait for DOM to be ready since the call to this file already does
	}

	function toggleNightmode() {
		document.querySelector('html').style.backgroundColor = '#1d1e1f';
		document.querySelector('.moon').classList.toggle('visible-button');
		document.querySelector('.moon').classList.toggle('hidden-button');
		document.querySelector('.sun').classList.toggle('hidden-button');
		document.querySelector('.sun').classList.toggle('visible-button');
		window.sessionStorage.setItem('lightmode','false');

		//if this is the gallery page, also change the category header bg color to match
		let galleryHeader = document.querySelector('.gallery-header'); 
		if(galleryHeader) galleryHeader.style.backgroundColor = '#1d1e1f';
	}

	function toggleLightmode() {
		document.querySelector('html').style.backgroundColor = 'white';
		document.querySelector('.sun').classList.toggle('visible-button');
		document.querySelector('.sun').classList.toggle('hidden-button');
		document.querySelector('.moon').classList.toggle('hidden-button');
		document.querySelector('.moon').classList.toggle('visible-button');
		window.sessionStorage.setItem('lightmode','true');

		let galleryHeader = document.querySelector('.gallery-header'); 
		if(galleryHeader) galleryHeader.style.backgroundColor = 'white';
	}
</script>

<button class="moon hidden-button" aria-label="toggle nightmode">&#xe901;</button>
<button class="sun visible-button" aria-label="toggle lightmode">&#xe900;</button>