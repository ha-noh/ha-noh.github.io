<!-- navbar html is localized to this file for convenience -->
<script>
	const lightmodeScripts = (function(){
		document.querySelector('.sun').addEventListener('click', toggleLightmode);
		document.querySelector('.moon').addEventListener('click', toggleNightmode);

		if(window.sessionStorage.getItem('lightmode') == 'true') {
			toggleLightmode();
			//doesn't need to wait for DOM to be ready since the call to this file already does
		}

		function toggleNightmode() {
			modeToggleHelper();
			window.sessionStorage.setItem('lightmode','false');
		}

		function toggleLightmode() {
			modeToggleHelper();
			window.sessionStorage.setItem('lightmode','true');
		}

		function modeToggleHelper() {
			document.querySelector('html').classList.toggle('white-bg');
			document.querySelector('.sun').classList.toggle('hidden-button');
			document.querySelector('.moon').classList.toggle('hidden-button');

			//if on the gallery page, change the category header bg color to match
			let galleryHeader = document.querySelector('.gallery-header'); 
			if(galleryHeader) {
				galleryHeader.classList.toggle('white-bg');
				galleryHeader.classList.toggle('dark-bg');
			} 
		}
	}());
</script>

<button class="moon hidden-button" aria-label="toggle nightmode">&#xe901;</button>
<button class="sun" aria-label="toggle lightmode">&#xe900;</button>